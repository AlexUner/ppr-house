  :root{
    --bg:#f7f9fa; --green:#2e8555; --border:#d0d7de; --text:#222;
    --node:#2e8555; --line:#333; --dim:#445; --dim-bg:#fff; --grid:#eee;
  }
  *{box-sizing:border-box}
  html,body{margin:0;height:100%;font-family:"Inter",Arial,Helvetica,sans-serif;background:var(--bg);color:var(--text)}
  h1{margin:0;padding:0.8rem;background:var(--green);color:#fff;font-size:1.2rem;text-align:center}
  #app{display:flex;height:calc(100% - 52px)}
  /* ======== Панель управления ========= */
  #sidebar{width:320px;max-width:40%;background:#fff;border-right:1px solid var(--border);padding:1rem;overflow:auto}
  #sidebar h2{font-size:1rem;margin:0.8rem 0 0.4rem}
  label{font-size:0.8rem;display:block;margin:0.4rem 0 0.2rem}
  input[type="number"],select{width:100%;padding:0.35rem;border:1px solid var(--border);border-radius:4px}
  #pipeList{margin-top:0.6rem;font-size:0.85rem}
  .pipe{border:1px solid var(--border);border-radius:6px;padding:0.4rem 0.6rem;margin-bottom:0.4rem;background:#fafafa;display:flex;justify-content:space-between}
  #warning{margin-top:0.8rem;color:#b00;font-size:0.85rem}
  /* ======== Область холстов ========= */
  #stageWrap{flex:1;display:grid;grid-template-columns:repeat(auto-fit,minmax(340px,1fr));gap:1rem;padding:1rem;overflow:auto}
  .view{background:#fff;border:1px solid var(--border);border-radius:8px;position:relative}
  .konvajs-content{outline:none}
  .caption{position:absolute;bottom:6px;left:6px;font-size:0.8rem;background:rgba(255,255,255,0.8);padding:2px 6px;border-radius:4px}
  /* Всплывающая подсказка длины */
  .tooltip{position:absolute;padding:2px 6px;background:var(--dim-bg);border:1px solid var(--border);border-radius:4px;font-size:0.74rem;pointer-events:none;white-space:nowrap;color:var(--dim);}

